# ALSA monitor config file for PipeWire version 0.4.1 #
#
# Copy and edit this file in /etc/pipewire/media-session.d/
# for system-wide changes or in
# ~/.config/pipewire/media-session.d/ for local changes.

properties = {
    # Create a JACK device. This is not enabled by default because
    # it requires that the PipeWire JACK replacement libraries are
    # not used by the session manager, in order to be able to
    # connect to the real JACK server.
    #alsa.jack-device = false

    # Reserve devices.
    #alsa.reserve = true
}

rules = [
    # source of audio interface of behringer
    {
        matches = [
            {
                node.name = "alsa_input.usb-Burr.*"
            }
        ]
        actions = {
            update-props = {
                api.alsa.use-acp = true
                api.alsa.use-ucm = true
                api.alsa.soft-mixer = false
                api.alsa.ignore-db = false
                device.profile-set = "profileset-name.conf"
                device.profile = "default profile name"
                api.acp.auto-profile = false
                api.acp.auto-port = false
                device.nick = "Source/Audio-Interface of Behringer"
            }
        }
    }
    # Source AVer Media
    {
        matches = [
            {
                node.name = "alsa_input.usb-AVerMedia.*"
            }
        ]
        actions = {
            update-props = {
                api.alsa.use-acp = true
                #api.alsa.use-ucm = true
                #api.alsa.soft-mixer = false
                #api.alsa.ignore-db = false
                #device.profile-set = "profileset-name.conf"
                #device.profile = "default profile name"
                api.acp.auto-profile = false
                api.acp.auto-port = false
                device.nick = "Source/AVer Media"
            }
        }
    }
    # analog stereo
    {
        matches = [
            {
                node.name = "alsa_input.pci-0000.*"
            }
        ]
        actions = {
            update-props = {
                api.alsa.use-acp = true
                #api.alsa.use-ucm = true
                #api.alsa.soft-mixer = false
                #api.alsa.ignore-db = false
                #device.profile-set = "profileset-name.conf"
                #device.profile = "default profile name"
                api.acp.auto-profile = false
                api.acp.auto-port = false
                device.nick = "Source/analog stereo"
            }
        }
    }
    # Sink
    {
        matches = [
            {
                node.name = "alsa_output.pci-0000.*"
            }
        ]
        actions = {
            update-props = {
                api.alsa.use-acp = true
                #api.alsa.use-ucm = true
                #api.alsa.soft-mixer = false
                #api.alsa.ignore-db = false
                #device.profile-set = "profileset-name.conf"
                #device.profile = "default profile name"
                api.acp.auto-profile = false
                api.acp.auto-port = false
                device.nick = "Sink/analog stereo"
            }
        }
    }
####################
###   Examples   ###
####################
    # {
    #     matches = [
    #         {
    #             device.name = "~alsa_card.*"
    #         }
    #     ]
    #     actions = {
    #         update-props = {
    #             api.alsa.use-acp = true
    #             #api.alsa.use-ucm = true
    #             #api.alsa.soft-mixer = false
    #             #api.alsa.ignore-dB = false
    #             #device.profile-set = "profileset-name.conf"
    #             #device.profile = "default profile name"
    #             api.acp.auto-profile = false
    #             api.acp.auto-port = false
    #             #device.nick = "My Device"
    #         }
    #     }
    # }
    # {
    #     matches = [
    #         {
    #             node.name = "~alsa_input.*"
    #         }
    #         {
    #             # Matches all sinks.
    #             node.name = "~alsa_output.*"
    #         }
    #     ]
    #     actions = {
    #         update-props = {
    #             node.nick                       = "test"
    #             priority.driver                 = 100
    #             priority.session                = 100
    #             node.pause-on-idle               = false
    #             resample.quality                = 4
    #             channelmix.normalize            = false
    #             channelmix.mix-lfe              = false
    #             audio.channels                  = 2
    #             audio.format                    = "S16LE"
    #             audio.rate                      = 44100
    #             audio.position                  = "FL,FR"
    #             session.suspend-timeout-seconds = 5            # 0 disables suspend
    #             monitor.channel-volumes         = false

    #             latency.internal.rate = 0            # internal latency in samples
    #             latency.internal.ns   = 0            # internal latency in nanoseconds

    #             api.alsa.period-size   = 1024
    #             api.alsa.headroom      = 0
    #             api.alsa.start-delay   = 0
    #             api.alsa.disable-mmap  = false
    #             api.alsa.disable-batch = false
    #             api.alsa.use-chmap     = false
    #             iec958.codecs          = [ PCM DTS AC3 MPEG MPEG2-AAC EAC3 TrueHD DTS-HD ]
    #         }
    #     actions = {
    #         update-props = {
    #             #node.nick                       = "My Node"
    #             #node.nick                       = null
    #             #priority.driver                 = 100
    #             #priority.session                = 100
    #             node.pause-on-idle               = false
    #             #resample.quality                = 4
    #             #channelmix.normalize            = false
    #             #channelmix.mix-lfe              = false
    #             #audio.channels                  = 2
    #             #audio.format                    = "S16LE"
    #             #audio.rate                      = 44100
    #             #audio.position                  = "FL,FR"
    #             #session.suspend-timeout-seconds = 5            # 0 disables suspend
    #             #monitor.channel-volumes         = false

    #             #latency.internal.rate = 0            # internal latency in samples
    #             #latency.internal.ns   = 0            # internal latency in nanoseconds

    #             #api.alsa.period-size   = 1024
    #             #api.alsa.headroom      = 0
    #             #api.alsa.start-delay   = 0
    #             #api.alsa.disable-mmap  = false
    #             #api.alsa.disable-batch = false
    #             #api.alsa.use-chmap     = false
    #             #iec958.codecs          = [ PCM DTS AC3 MPEG MPEG2-AAC EAC3 TrueHD DTS-HD ]
    #         }
    #     }
    # }
]
